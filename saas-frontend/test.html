<!DOCTYPE html>
<html>
<head>
  <title>Backend Test</title>
</head>
<body>
  <h1>Backend Connection Test</h1>
  <input type="text" id="userId" placeholder="User ID" value="test-user" />
  <input type="text" id="month" placeholder="Month" value="2025-12" />
  <button onclick="test()">Test Backend</button>
  <pre id="result"></pre>
  
  <script>
    async function test() {
      const userId = document.getElementById('userId').value;
      const month = document.getElementById('month').value;
      
      try {
        const res = await fetch(`http://localhost:3001/usage/${userId}/${month}`, {
          headers: { 'x-api-key': 'test' }
        });
        const data = await res.json();
        document.getElementById('result').textContent = 'SUCCESS!\n' + JSON.stringify(data, null, 2);
      } catch(e) {
        document.getElementById('result').textContent = 'Error: ' + e.message;
      }
    }
  </script>
</body>
</html>